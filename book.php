<?php 
require_once 'functions.php'; // Подключаем файл с функциями для работы с книгами
// Проверяем, передан ли параметр "id" в URL
if (isset($_GET["id"])) {
    // Получаем информацию о книге по ID, переданному в URL
    $book = getBookById($_GET["id"]); 
    // Проверяем, была ли найдена книга
    if ($book) { 
?>
    <!-- Заголовок страницы с названием книги -->
    <h1><?= htmlspecialchars($book["title"] ?? 'Неизвестное название') ?></h1>     
    <p><strong>Автор:</strong> <?= htmlspecialchars(($book["author_first_name"] ?? '') . ' ' . ($book["author_last_name"] ?? '')) ?></p><!-- Выводим информацию об авторе книги -->
    <p><strong>Категория:</strong> <?= htmlspecialchars($book["category_name"] ?? 'Неизвестная категория') ?></p>  <!-- Выводим информацию о категории книги -->    
    <p><strong>Описание:</strong> <?= nl2br(htmlspecialchars($book["description"] ?? 'Нет описания')) ?></p><!-- Выводим описание книги, преобразуя переносы строк в <br> -->    
    <p><strong>Цена:</strong> <?= htmlspecialchars($book["price"] ?? 0) ?> руб.</p><!-- Выводим цену книги -->
    <a href='index.php'>Назад к каталогу книг</a><!-- Ссылка для возврата к каталогу книг -->
<?php 
    } else { 
        // Если книга не найдена, выводим сообщение об этом
        echo "Книга не найдена."; 
    } 
} else { 
    // Если ID книги не указан, выводим сообщение об этом
    echo "ID книги не указан."; 
} 
?>
